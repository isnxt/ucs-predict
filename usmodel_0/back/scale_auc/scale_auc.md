C:\Users\lenovo\.conda\envs\env_jdata\python.exe C:/Users/lenovo/Documents/GitHub/JData-UCS/usmodel/us_xgb.py
2019-05-25 21:44:27.915018

>> 开始加载已有模型
2019-05-25 21:58:38.848707

>> 开始划分X,y
<< 完成划分X,y

>> 开始测试模型
> 概率转换0,1

>> 开始计算得分
buy_plus_180402_180408
前154565行[test] label=1：
real: (154565, 3)
pred: (154565, 4)
all_2: (154565, 2)
all_pred_2: (154565, 2)
pos: 6956
neg: 147609
所有用户品类中预测购买用户品类的准确率为 0.045003720117749814
所有用户品类中预测购买用户品类的召回率0.045003720117749814
F11=0.045003720117749814
all_3: (154565, 3)
all_pred_3: (154565, 3)
pos: 2986
neg: 151579
所有用户品类中预测购买店铺的准确率为 0.019318733219034063
所有用户品类中预测购买店铺的召回率0.019318733219034063
F12=0.019318733219034063
score=0.029592727978520365
前10000行 label=1：
real: (154565, 3)
pred: (10000, 4)
all_2: (154565, 2)
all_pred_2: (10000, 2)
pos: 500
neg: 9500
所有用户品类中预测购买用户品类的准确率为 0.05
所有用户品类中预测购买用户品类的召回率0.003234884999838256
F11=0.008592787786784293
all_3: (154565, 3)
all_pred_3: (10000, 3)
pos: 311
neg: 9689
所有用户品类中预测购买店铺的准确率为 0.0311
所有用户品类中预测购买店铺的召回率0.002012098469899395
F12=0.0032148357952842183
score=0.005366016591884249
前20000行 label=1：
real: (154565, 3)
pred: (20000, 4)
all_2: (154565, 2)
all_pred_2: (20000, 2)
pos: 706
neg: 19294
所有用户品类中预测购买用户品类的准确率为 0.0353
所有用户品类中预测购买用户品类的召回率0.004567657619771617
F11=0.010885822218795773
all_3: (154565, 3)
all_pred_3: (20000, 3)
pos: 414
neg: 19586
所有用户品类中预测购买店铺的准确率为 0.0207
所有用户品类中预测购买店铺的召回率0.002678484779866076
F12=0.0041096298355155405
score=0.006820106788827633
前30000行 label=1：
real: (154565, 3)
pred: (30000, 4)
all_2: (154565, 2)
all_pred_2: (30000, 2)
pos: 882
neg: 29118
所有用户品类中预测购买用户品类的准确率为 0.0294
所有用户品类中预测购买用户品类的召回率0.005706337139714683
F11=0.012331927387971012
all_3: (154565, 3)
all_pred_3: (30000, 3)
pos: 511
neg: 29489
所有用户品类中预测购买店铺的准确率为 0.017033333333333334
所有用户品类中预测购买店铺的召回率0.0033060524698346975
F12=0.004878793954496414
score=0.007860047327886255
前40000行 label=1：
real: (154565, 3)
pred: (40000, 4)
all_2: (154565, 2)
all_pred_2: (40000, 2)
pos: 1055
neg: 38945
所有用户品类中预测购买用户品类的准确率为 0.026375
所有用户品类中预测购买用户品类的召回率0.0068256073496587195
F11=0.013493061624709568
all_3: (154565, 3)
all_pred_3: (40000, 3)
pos: 609
neg: 39391
所有用户品类中预测购买店铺的准确率为 0.015225
所有用户品类中预测购买店铺的召回率0.003940089929802996
F12=0.00560056649408216
score=0.008757564546333124
前50000行 label=1：
real: (154565, 3)
pred: (50000, 4)
all_2: (154565, 2)
all_pred_2: (50000, 2)
pos: 1261
neg: 48739
所有用户品类中预测购买用户品类的准确率为 0.02522
所有用户品类中预测购买用户品类的召回率0.00815837996959208
F11=0.014860644629073124
all_3: (154565, 3)
all_pred_3: (50000, 3)
pos: 726
neg: 49274
所有用户品类中预测购买店铺的准确率为 0.01452
所有用户品类中预测购买店铺的召回率0.0046970530197651475
F12=0.006439652649038931
score=0.009808049441052609
前60000行 label=1：
real: (154565, 3)
pred: (60000, 4)
all_2: (154565, 2)
all_pred_2: (60000, 2)
pos: 1556
neg: 58444
所有用户品类中预测购买用户品类的准确率为 0.025933333333333333
所有用户品类中预测购买用户品类的召回率0.010066962119496653
F11=0.01700143863930217
all_3: (154565, 3)
all_pred_3: (60000, 3)
pos: 859
neg: 59141
所有用户品类中预测购买店铺的准确率为 0.014316666666666667
所有用户品类中预测购买店铺的召回率0.005557532429722124
F12=0.00735829499995717
score=0.01121555245569517
前70000行 label=1：
real: (154565, 3)
pred: (70000, 4)
all_2: (154565, 2)
all_pred_2: (70000, 2)
pos: 2100
neg: 67900
所有用户品类中预测购买用户品类的准确率为 0.03
所有用户品类中预测购买用户品类的召回率0.013586516999320675
F11=0.021387469658649193
all_3: (154565, 3)
all_pred_3: (70000, 3)
pos: 1089
neg: 68911
所有用户品类中预测购买店铺的准确率为 0.015557142857142858
所有用户品类中预测购买店铺的召回率0.007045579529647721
F12=0.009019455188464373
score=0.0139666609765383
前80000行 label=1：
real: (154565, 3)
pred: (80000, 4)
all_2: (154565, 2)
all_pred_2: (80000, 2)
pos: 2744
neg: 77256
所有用户品类中预测购买用户品类的准确率为 0.0343
所有用户品类中预测购买用户品类的召回率0.017753048879112346
F11=0.026169472128177003
all_3: (154565, 3)
all_pred_3: (80000, 3)
pos: 1308
neg: 78692
所有用户品类中预测购买店铺的准确率为 0.01635
所有用户品类中预测购买店铺的召回率0.008462459159576876
F12=0.01048589454781584
score=0.016759325579960307
前90000行 label=1：
real: (154565, 3)
pred: (90000, 4)
all_2: (154565, 2)
all_pred_2: (90000, 2)
pos: 3419
neg: 86581
所有用户品类中预测购买用户品类的准确率为 0.03798888888888889
所有用户品类中预测购买用户品类的召回率0.022120143628893994
F11=0.030657719725613857
all_3: (154565, 3)
all_pred_3: (90000, 3)
pos: 1551
neg: 88449
所有用户品类中预测购买店铺的准确率为 0.017233333333333333
所有用户品类中预测购买店铺的召回率0.010034613269498269
F12=0.012047631253932375
score=0.019491666642604967
前100000行 label=1：
real: (154565, 3)
pred: (100000, 4)
all_2: (154565, 2)
all_pred_2: (100000, 2)
pos: 4007
neg: 95993
所有用户品类中预测购买用户品类的准确率为 0.04007
所有用户品类中预测购买用户品类的召回率0.02592436838870378
F11=0.033903515575423405
all_3: (154565, 3)
all_pred_3: (100000, 3)
pos: 1778
neg: 98222
所有用户品类中预测购买店铺的准确率为 0.01778
所有用户品类中预测购买店铺的召回率0.011503251059424837
F12=0.013394706906033645
score=0.02159823037378955
前110000行 label=1：
real: (154565, 3)
pred: (110000, 4)
all_2: (154565, 2)
all_pred_2: (110000, 2)
pos: 4566
neg: 105434
所有用户品类中预测购买用户品类的准确率为 0.04150909090909091
所有用户品类中预测购买用户品类的召回率0.02954096981852295
F11=0.03657042168915943
all_3: (154565, 3)
all_pred_3: (110000, 3)
pos: 1980
neg: 108020
所有用户品类中预测购买店铺的准确率为 0.018
所有用户品类中预测购买店铺的召回率0.012810144599359493
F12=0.014480140998544675
score=0.023316253274790574
前120000行 label=1：
real: (154565, 3)
pred: (120000, 4)
all_2: (154565, 2)
all_pred_2: (120000, 2)
pos: 5136
neg: 114864
所有用户品类中预测购买用户品类的准确率为 0.0428
所有用户品类中预测购买用户品类的召回率0.03322873871833856
F11=0.0390506000278788
all_3: (154565, 3)
all_pred_3: (120000, 3)
pos: 2222
neg: 117778
所有用户品类中预测购买店铺的准确率为 0.018516666666666667
所有用户品类中预测购买店铺的召回率0.014375828939281209
F12=0.015788090010586973
score=0.025093094017503703
前130000行 label=1：
real: (154565, 3)
pred: (130000, 4)
all_2: (154565, 2)
all_pred_2: (130000, 2)
pos: 5691
neg: 124309
所有用户品类中预测购买用户品类的准确率为 0.043776923076923074
所有用户品类中预测购买用户品类的召回率0.036819461068159025
F11=0.041182926682184935
all_3: (154565, 3)
all_pred_3: (130000, 3)
pos: 2473
neg: 127527
所有用户品类中预测购买店铺的准确率为 0.019023076923076924
所有用户品类中预测购买店铺的召回率0.015999741209200013
F12=0.01708592708254168
score=0.02672472692239898
前140000行 label=1：
real: (154565, 3)
pred: (140000, 4)
all_2: (154565, 2)
all_pred_2: (140000, 2)
pos: 6232
neg: 133768
所有用户品类中预测购买用户品类的准确率为 0.044514285714285715
所有用户品类中预测购买用户品类的召回率0.04031960663798402
F11=0.0430223326775051
all_3: (154565, 3)
all_pred_3: (140000, 3)
pos: 2688
neg: 137312
所有用户品类中预测购买店铺的准确率为 0.0192
所有用户品类中预测购买店铺的召回率0.017390741759130465
F12=0.018071924646528483
score=0.02805208785891913
前150000行 label=1：
real: (154565, 3)
pred: (150000, 4)
all_2: (154565, 2)
all_pred_2: (150000, 2)
pos: 6751
neg: 143249
所有用户品类中预测购买用户品类的准确率为 0.04500666666666667
所有用户品类中预测购买用户品类的召回率0.04367741726781613
F11=0.044554684148581616
all_3: (154565, 3)
all_pred_3: (150000, 3)
pos: 2904
neg: 147096
所有用户品类中预测购买店铺的准确率为 0.01936
所有用户品类中预测购买店铺的召回率0.01878821207906059
F12=0.019012825800876005
score=0.02922956913995825
<< 完成测试模型
2019-05-25 21:58:51.104928
>> 开始特征重要性
<< 完成特征重要性

Process finished with exit code 0


开始计算得分
2019-05-25 22:13:51.423207
前154565行[test] label=1：
real: (154565, 3)
pred: (154565, 4)
all_2: (154565, 2)
all_pred_2: (154565, 2)
pos: 6956
neg: 147609
所有用户品类中预测购买用户品类的准确率为 0.045003720117749814
所有用户品类中预测购买用户品类的召回率0.045003720117749814
F11=0.045003720117749814
all_3: (154565, 3)
all_pred_3: (154565, 3)
pos: 2986
neg: 151579
所有用户品类中预测购买店铺的准确率为 0.019318733219034063
所有用户品类中预测购买店铺的召回率0.019318733219034063
F12=0.019318733219034063
score=0.029592727978520365
前160000行 label=1：
real: (154565, 3)
pred: (160000, 4)
all_2: (154565, 2)
all_pred_2: (160000, 2)
pos: 7172
neg: 152828
所有用户品类中预测购买用户品类的准确率为 0.044825
所有用户品类中预测购买用户品类的召回率0.04640119043767994
F11=0.0453383625003951
all_3: (154565, 3)
all_pred_3: (160000, 3)
pos: 3065
neg: 156935
所有用户品类中预测购买店铺的准确率为 0.01915625
所有用户品类中预测购买店铺的召回率0.019829845049008508
F12=0.0195548012938707
score=0.02986822577648046
前170000行 label=1：
real: (154565, 3)
pred: (170000, 4)
all_2: (154565, 2)
all_pred_2: (170000, 2)
pos: 7571
neg: 162429
所有用户品类中预测购买用户品类的准确率为 0.04453529411764706
所有用户品类中预测购买用户品类的召回率0.04898262866755087
F11=0.045925207000090985
all_3: (154565, 3)
all_pred_3: (170000, 3)
pos: 3228
neg: 166772
所有用户品类中预测购买店铺的准确率为 0.018988235294117646
所有用户品类中预测购买店铺的召回率0.02088441755895578
F12=0.020082245130304405
score=0.030419429878219037
前180000行 label=1：
real: (154565, 3)
pred: (180000, 4)
all_2: (154565, 2)
all_pred_2: (180000, 2)
pos: 7900
neg: 172100
所有用户品类中预测购买用户品类的准确率为 0.04388888888888889
所有用户品类中预测购买用户品类的召回率0.05111118299744444
F11=0.04605832110617706
all_3: (154565, 3)
all_pred_3: (180000, 3)
pos: 3343
neg: 176657
所有用户品类中预测购买店铺的准确率为 0.018572222222222223
所有用户品类中预测购买店铺的召回率0.021628441108918577
F12=0.02029270543101512
score=0.030598951701079895
前190000行 label=1：
real: (154565, 3)
pred: (190000, 4)
all_2: (154565, 2)
all_pred_2: (190000, 2)
pos: 8209
neg: 181791
所有用户品类中预测购买用户品类的准确率为 0.04320526315789474
所有用户品类中预测购买用户品类的召回率0.053110341927344484
F11=0.04606923386304752
all_3: (154565, 3)
all_pred_3: (190000, 3)
pos: 3420
neg: 186580
所有用户品类中预测购买店铺的准确率为 0.018
所有用户品类中预测购买店铺的召回率0.022126613398893668
F12=0.020267987839207295
！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！前方高能score=0.030588486248743385
前200000行 label=1：
real: (154565, 3)
pred: (200000, 4)
all_2: (154565, 2)
all_pred_2: (200000, 2)
pos: 8451
neg: 191549
所有用户品类中预测购买用户品类的准确率为 0.042255
所有用户品类中预测购买用户品类的召回率0.0546760262672662
F11=0.045716913256336054
all_3: (154565, 3)
all_pred_3: (200000, 3)
pos: 3467
neg: 196533
所有用户品类中预测购买店铺的准确率为 0.017335
所有用户品类中预测购买店铺的召回率0.022430692588878465
F12=0.020070742565373195
score=0.03032921084175834
前210000行 label=1：
real: (154565, 3)
pred: (210000, 4)
all_2: (154565, 2)
all_pred_2: (210000, 2)
pos: 8717
neg: 201283
所有用户品类中预测购买用户品类的准确率为 0.04150952380952381
所有用户品类中预测购买用户品类的召回率0.05639698508718015
F11=0.04551443265774978
all_3: (154565, 3)
all_pred_3: (210000, 3)
pos: 3504
neg: 206496
所有用户品类中预测购买店铺的准确率为 0.016685714285714286
所有用户品类中预测购买店铺的召回率0.022670074078866495
F12=0.01982584488992243
score=0.030101279997053372
前220000行 label=1：
real: (154565, 3)
pred: (220000, 4)
all_2: (154565, 2)
all_pred_2: (220000, 2)
pos: 8959
neg: 211041
所有用户品类中预测购买用户品类的准确率为 0.04072272727272727
所有用户品类中预测购买用户品类的召回率0.05796266942710187
F11=0.04520447722284359
all_3: (154565, 3)
all_pred_3: (220000, 3)
pos: 3523
neg: 216477
所有用户品类中预测购买店铺的准确率为 0.016013636363636365
所有用户品类中预测购买店铺的召回率0.02279299970886035
F12=0.019492195928936206
score=0.02977710844649916
前230000行 label=1：
real: (154565, 3)
pred: (230000, 4)
all_2: (154565, 2)
all_pred_2: (230000, 2)
pos: 9177
neg: 220823
所有用户品类中预测购买用户品类的准确率为 0.0399
所有用户品类中预测购买用户品类的召回率0.059373079287031345
F11=0.04479753972321886
all_3: (154565, 3)
all_pred_3: (230000, 3)
pos: 3538
neg: 226462
所有用户品类中预测购买店铺的准确率为 0.015382608695652174
所有用户品类中预测购买店铺的召回率0.022890046258855497
F12=0.01915134324641792
score=0.029409821837138292
前240000行 label=1：
real: (154565, 3)
pred: (240000, 4)
all_2: (154565, 2)
all_pred_2: (240000, 2)
pos: 9409
neg: 230591
所有用户品类中预测购买用户品类的准确率为 0.039204166666666665
所有用户品类中预测购买用户品类的召回率0.060874065926956294
F11=0.04448244072711228
all_3: (154565, 3)
all_pred_3: (240000, 3)
pos: 3552
neg: 236448
所有用户品类中预测购买店铺的准确率为 0.0148
所有用户品类中预测购买店铺的召回率0.02298062303885097
F12=0.018819639820068988
score=0.029084760182886304
<< 完成测试模型
2019-05-25 22:13:53.786003
>> 开始特征重要性
<< 完成特征重要性

Process finished with exit code 0
